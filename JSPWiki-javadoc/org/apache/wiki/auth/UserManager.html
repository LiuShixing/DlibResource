<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Tue Feb 16 22:23:45 CET 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>UserManager (Apache JSPWiki Main War 2.10.2 API)</title>
<meta name="date" content="2016-02-16">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="UserManager (Apache JSPWiki Main War 2.10.2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UserManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/wiki/auth/SessionMonitor.html" title="class in org.apache.wiki.auth"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/wiki/auth/UserManager.DummyUserDatabase.html" title="class in org.apache.wiki.auth"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/wiki/auth/UserManager.html" target="_top">Frames</a></li>
<li><a href="UserManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.wiki.auth</div>
<h2 title="Class UserManager" class="title">Class UserManager</h2>
</div>
<div class="contentContainer">
<map id="APIVIZ" name="APIVIZ">
<area shape="rect" id="node1" href="UserManager.html" title="UserManager" alt="" coords="5,6,104,34"/>
</map>
<div id="apivizContainer" style="text-align: center;"><img src="UserManager.png" usemap="#APIVIZ" border="0"></div>
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.wiki.auth.UserManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.79">UserManager</a>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Provides a facade for obtaining user information.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>2.3</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.DummyUserDatabase.html" title="class in org.apache.wiki.auth">UserManager.DummyUserDatabase</a></strong></code>
<div class="block">This is a database that gets used if nothing else is available.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.JSONUserModule.html" title="class in org.apache.wiki.auth">UserManager.JSONUserModule</a></strong></code>
<div class="block">Implements the JSON API for usermanager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.SaveUserProfileTask.html" title="class in org.apache.wiki.auth">UserManager.SaveUserProfileTask</a></strong></code>
<div class="block">Inner class that handles the actual profile save action.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#FACT_SUBMITTER">FACT_SUBMITTER</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#JSON_USERS">JSON_USERS</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#PREFS_EMAIL">PREFS_EMAIL</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#PREFS_FULL_NAME">PREFS_FULL_NAME</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#PREFS_LOGIN_NAME">PREFS_LOGIN_NAME</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#SAVE_APPROVER">SAVE_APPROVER</a></strong></code>
<div class="block">Message key for the "save profile" message.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#SAVE_DECISION_MESSAGE_KEY">SAVE_DECISION_MESSAGE_KEY</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#SAVE_TASK_MESSAGE_KEY">SAVE_TASK_MESSAGE_KEY</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#SAVED_PROFILE">SAVED_PROFILE</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#UserManager()">UserManager</a></strong>()</code>
<div class="block">Constructs a new UserManager instance.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#addWikiEventListener(org.apache.wiki.event.WikiEventListener)">addWikiEventListener</a></strong>(<a href="../../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a>&nbsp;listener)</code>
<div class="block">Registers a WikiEventListener with this instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#fireEvent(int,%20org.apache.wiki.WikiSession,%20java.lang.Object)">fireEvent</a></strong>(int&nbsp;type,
                  <a href="../../../../org/apache/wiki/WikiSession.html" title="class in org.apache.wiki">WikiSession</a>&nbsp;session,
                  <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;profile)</code>
<div class="block">Fires a WikiSecurityEvent of the provided type, Principal and target Object
  to all registered listeners.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/wiki/auth/user/UserDatabase.html" title="interface in org.apache.wiki.auth.user">UserDatabase</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#getUserDatabase()">getUserDatabase</a></strong>()</code>
<div class="block">Returns the UserDatabase employed by this WikiEngine.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#getUserProfile(org.apache.wiki.WikiSession)">getUserProfile</a></strong>(<a href="../../../../org/apache/wiki/WikiSession.html" title="class in org.apache.wiki">WikiSession</a>&nbsp;session)</code>
<div class="block">Retrieves the <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user"><code>UserProfile</code></a>for the
 user in a wiki session.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#initialize(org.apache.wiki.WikiEngine,%20java.util.Properties)">initialize</a></strong>(<a href="../../../../org/apache/wiki/WikiEngine.html" title="class in org.apache.wiki">WikiEngine</a>&nbsp;engine,
                    <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;props)</code>
<div class="block">Initializes the engine for its nefarious purposes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#listWikiNames()">listWikiNames</a></strong>()</code>
<div class="block">A helper method for returning all of the known WikiNames in this system.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#parseProfile(org.apache.wiki.WikiContext)">parseProfile</a></strong>(<a href="../../../../org/apache/wiki/WikiContext.html" title="class in org.apache.wiki">WikiContext</a>&nbsp;context)</code>
<div class="block"> Extracts user profile parameters from the HTTP request and populates
 a UserProfile with them.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#removeWikiEventListener(org.apache.wiki.event.WikiEventListener)">removeWikiEventListener</a></strong>(<a href="../../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a>&nbsp;listener)</code>
<div class="block">Un-registers a WikiEventListener with this instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#setUserProfile(org.apache.wiki.WikiSession,%20org.apache.wiki.auth.user.UserProfile)">setUserProfile</a></strong>(<a href="../../../../org/apache/wiki/WikiSession.html" title="class in org.apache.wiki">WikiSession</a>&nbsp;session,
                            <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)</code>
<div class="block">
 Saves the <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user"><code>UserProfile</code></a>for the user in
 a wiki session.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/wiki/auth/UserManager.html#validateProfile(org.apache.wiki.WikiContext,%20org.apache.wiki.auth.user.UserProfile)">validateProfile</a></strong>(<a href="../../../../org/apache/wiki/WikiContext.html" title="class in org.apache.wiki">WikiContext</a>&nbsp;context,
                              <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)</code>
<div class="block">Validates a user profile, and appends any errors to the session errors
 list.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="SAVE_APPROVER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SAVE_APPROVER</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.94">SAVE_APPROVER</a></pre>
<div class="block">Message key for the "save profile" message.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apache.wiki.auth.UserManager.SAVE_APPROVER">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="SAVE_TASK_MESSAGE_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SAVE_TASK_MESSAGE_KEY</h4>
<pre>protected static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.96">SAVE_TASK_MESSAGE_KEY</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apache.wiki.auth.UserManager.SAVE_TASK_MESSAGE_KEY">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="SAVED_PROFILE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SAVED_PROFILE</h4>
<pre>protected static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.97">SAVED_PROFILE</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apache.wiki.auth.UserManager.SAVED_PROFILE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="SAVE_DECISION_MESSAGE_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SAVE_DECISION_MESSAGE_KEY</h4>
<pre>protected static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.98">SAVE_DECISION_MESSAGE_KEY</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apache.wiki.auth.UserManager.SAVE_DECISION_MESSAGE_KEY">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="FACT_SUBMITTER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FACT_SUBMITTER</h4>
<pre>protected static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.99">FACT_SUBMITTER</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apache.wiki.auth.UserManager.FACT_SUBMITTER">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PREFS_LOGIN_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PREFS_LOGIN_NAME</h4>
<pre>protected static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.100">PREFS_LOGIN_NAME</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apache.wiki.auth.UserManager.PREFS_LOGIN_NAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PREFS_FULL_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PREFS_FULL_NAME</h4>
<pre>protected static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.101">PREFS_FULL_NAME</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apache.wiki.auth.UserManager.PREFS_FULL_NAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PREFS_EMAIL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PREFS_EMAIL</h4>
<pre>protected static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.102">PREFS_EMAIL</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apache.wiki.auth.UserManager.PREFS_EMAIL">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="JSON_USERS">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JSON_USERS</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.104">JSON_USERS</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.apache.wiki.auth.UserManager.JSON_USERS">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="UserManager()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UserManager</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.117">UserManager</a>()</pre>
<div class="block">Constructs a new UserManager instance.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initialize(org.apache.wiki.WikiEngine, java.util.Properties)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.126">initialize</a>(<a href="../../../../org/apache/wiki/WikiEngine.html" title="class in org.apache.wiki">WikiEngine</a>&nbsp;engine,
              <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;props)</pre>
<div class="block">Initializes the engine for its nefarious purposes.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>engine</code> - the current wiki engine</dd><dd><code>props</code> - the wiki engine initialization properties</dd></dl>
</li>
</ul>
<a name="getUserDatabase()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUserDatabase</h4>
<pre>public&nbsp;<a href="../../../../org/apache/wiki/auth/user/UserDatabase.html" title="interface in org.apache.wiki.auth.user">UserDatabase</a>&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.146">getUserDatabase</a>()</pre>
<div class="block">Returns the UserDatabase employed by this WikiEngine. The UserDatabase is
 lazily initialized by this method, if it does not exist yet. If the
 initialization fails, this method will use the inner class
 DummyUserDatabase as a default (which is enough to get JSPWiki running).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the dummy user database</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.3</dd></dl>
</li>
</ul>
<a name="getUserProfile(org.apache.wiki.WikiSession)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUserProfile</h4>
<pre>public&nbsp;<a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.222">getUserProfile</a>(<a href="../../../../org/apache/wiki/WikiSession.html" title="class in org.apache.wiki">WikiSession</a>&nbsp;session)</pre>
<div class="block"><p>Retrieves the <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user"><code>UserProfile</code></a>for the
 user in a wiki session. If the user is authenticated, the UserProfile
 returned will be the one stored in the user database; if one does not
 exist, a new one will be initialized and returned. If the user is
 anonymous or asserted, the UserProfile will <i>always</i> be newly
 initialized to prevent spoofing of identities. If a UserProfile needs to
 be initialized, its
 <a href="../../../../org/apache/wiki/auth/user/UserProfile.html#isNew()"><code>UserProfile.isNew()</code></a> method will
 return <code>true</code>, and its login name will will be set
 automatically if the user is authenticated. Note that this method does
 not modify the retrieved (or newly created) profile otherwise; other
 fields in the user profile may be <code>null</code>.</p>
 <p>If a new UserProfile was created, but its
 <a href="../../../../org/apache/wiki/auth/user/UserProfile.html#isNew()"><code>UserProfile.isNew()</code></a> method returns
 <code>false</code>, this method throws an <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang"><code>IllegalStateException</code></a>.
 This is meant as a quality check for UserDatabase providers;
 it should only be thrown if the implementation is faulty.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - the wiki session, which may not be <code>null</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the user's profile, which will be newly initialized if the user
 is anonymous or asserted, or if the user cannot be found in the user
 database</dd></dl>
</li>
</ul>
<a name="setUserProfile(org.apache.wiki.WikiSession, org.apache.wiki.auth.user.UserProfile)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUserProfile</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.298">setUserProfile</a>(<a href="../../../../org/apache/wiki/WikiSession.html" title="class in org.apache.wiki">WikiSession</a>&nbsp;session,
                  <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)
                    throws <a href="../../../../org/apache/wiki/auth/user/DuplicateUserException.html" title="class in org.apache.wiki.auth.user">DuplicateUserException</a>,
                           <a href="../../../../org/apache/wiki/api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></pre>
<div class="block"><p>
 Saves the <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user"><code>UserProfile</code></a>for the user in
 a wiki session. This method verifies that a user profile to be saved
 doesn't collide with existing profiles; that is, the login name
 or full name is already used by another profile. If the profile
 collides, a <code>DuplicateUserException</code> is thrown. After saving
 the profile, the user database changes are committed, and the user's
 credential set is refreshed; if custom authentication is used, this means
 the user will be automatically be logged in.
 </p>
 <p>
 When the user's profile is saved successfully, this method fires a
 <a href="../../../../org/apache/wiki/event/WikiSecurityEvent.html#PROFILE_SAVE"><code>WikiSecurityEvent.PROFILE_SAVE</code></a> event with the WikiSession as the
 source and the UserProfile as target. For existing profiles, if the
 user's full name changes, this method also fires a "name changed"
 event (<a href="../../../../org/apache/wiki/event/WikiSecurityEvent.html#PROFILE_NAME_CHANGED"><code>WikiSecurityEvent.PROFILE_NAME_CHANGED</code></a>) with the
 WikiSession as the source and an array containing the old and new
 UserProfiles, respectively. The <code>NAME_CHANGED</code> event allows
 the GroupManager and PageManager can change group memberships and
 ACLs if needed.
 </p>
 <p>
 Note that WikiSessions normally attach event listeners to the
 UserManager, so changes to the profile will automatically cause the
 correct Principals to be reloaded into the current WikiSession's Subject.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>session</code> - the wiki session, which may not be <code>null</code></dd><dd><code>profile</code> - the user profile, which may not be <code>null</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/auth/user/DuplicateUserException.html" title="class in org.apache.wiki.auth.user">DuplicateUserException</a></code> - if the proposed profile's login name or full name collides with another</dd>
<dd><code><a href="../../../../org/apache/wiki/api/exceptions/WikiException.html" title="class in org.apache.wiki.api.exceptions">WikiException</a></code> - if the save fails for some reason. If the current user does not have
 permission to save the profile, this will be a <a href="../../../../org/apache/wiki/auth/WikiSecurityException.html" title="class in org.apache.wiki.auth"><code>WikiSecurityException</code></a>;
 if if the user profile must be approved before it can be saved, it will be a
 <a href="../../../../org/apache/wiki/workflow/DecisionRequiredException.html" title="class in org.apache.wiki.workflow"><code>DecisionRequiredException</code></a>. All other WikiException
 indicate a condition that is not normal is probably due to mis-configuration</dd></dl>
</li>
</ul>
<a name="parseProfile(org.apache.wiki.WikiContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseProfile</h4>
<pre>public&nbsp;<a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.444">parseProfile</a>(<a href="../../../../org/apache/wiki/WikiContext.html" title="class in org.apache.wiki">WikiContext</a>&nbsp;context)</pre>
<div class="block"><p> Extracts user profile parameters from the HTTP request and populates
 a UserProfile with them. The UserProfile will either be a copy of the
 user's existing profile (if one can be found), or a new profile (if not).
 The rules for populating the profile as as follows: </p> <ul> <li>If the
 <code>email</code> or <code>password</code> parameter values differ
 from those in the existing profile, the passed parameters override the
 old values.</li> <li>For new profiles, the user-supplied
 <code>fullname</code> parameter is always
 used; for existing profiles the existing value is used, and whatever
 value the user supplied is discarded. The wiki name is automatically
 computed by taking the full name and extracting all whitespace.</li>
 <li>In all cases, the
 created/last modified timestamps of the user's existing or new profile
 always override whatever values the user supplied.</li> <li>If
 container authentication is used, the login name property of the profile
 is set to the name of
 <a href="../../../../org/apache/wiki/WikiSession.html#getLoginPrincipal()"><code>WikiSession.getLoginPrincipal()</code></a>. Otherwise,
 the value of the <code>loginname</code> parameter is used.</li> </ul></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - the current wiki context</dd>
<dt><span class="strong">Returns:</span></dt><dd>a new, populated user profile</dd></dl>
</li>
</ul>
<a name="validateProfile(org.apache.wiki.WikiContext, org.apache.wiki.auth.user.UserProfile)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateProfile</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.488">validateProfile</a>(<a href="../../../../org/apache/wiki/WikiContext.html" title="class in org.apache.wiki">WikiContext</a>&nbsp;context,
                   <a href="../../../../org/apache/wiki/auth/user/UserProfile.html" title="interface in org.apache.wiki.auth.user">UserProfile</a>&nbsp;profile)</pre>
<div class="block">Validates a user profile, and appends any errors to the session errors
 list. If the profile is new, the password will be checked to make sure it
 isn't null. Otherwise, the password is checked for length and that it
 matches the value of the 'password2' HTTP parameter. Note that we have a
 special case when container-managed authentication is used and the user
 is not authenticated; this will always cause validation to fail. Any
 validation errors are added to the wiki session's messages collection
 (see <a href="../../../../org/apache/wiki/WikiSession.html#getMessages()"><code>WikiSession.getMessages()</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - the current wiki context</dd><dd><code>profile</code> - the supplied UserProfile</dd></dl>
</li>
</ul>
<a name="listWikiNames()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listWikiNames</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.599">listWikiNames</a>()
                          throws <a href="../../../../org/apache/wiki/auth/WikiSecurityException.html" title="class in org.apache.wiki.auth">WikiSecurityException</a></pre>
<div class="block">A helper method for returning all of the known WikiNames in this system.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>An Array of Principals</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/wiki/auth/WikiSecurityException.html" title="class in org.apache.wiki.auth">WikiSecurityException</a></code> - If for reason the names cannot be fetched</dd></dl>
</li>
</ul>
<a name="addWikiEventListener(org.apache.wiki.event.WikiEventListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addWikiEventListener</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.822">addWikiEventListener</a>(<a href="../../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a>&nbsp;listener)</pre>
<div class="block">Registers a WikiEventListener with this instance.
 This is a convenience method.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - the event listener</dd></dl>
</li>
</ul>
<a name="removeWikiEventListener(org.apache.wiki.event.WikiEventListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeWikiEventListener</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.832">removeWikiEventListener</a>(<a href="../../../../org/apache/wiki/event/WikiEventListener.html" title="interface in org.apache.wiki.event">WikiEventListener</a>&nbsp;listener)</pre>
<div class="block">Un-registers a WikiEventListener with this instance.
 This is a convenience method.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - the event listener</dd></dl>
</li>
</ul>
<a name="fireEvent(int, org.apache.wiki.WikiSession, java.lang.Object)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>fireEvent</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/wiki/auth/UserManager.html#line.846">fireEvent</a>(int&nbsp;type,
             <a href="../../../../org/apache/wiki/WikiSession.html" title="class in org.apache.wiki">WikiSession</a>&nbsp;session,
             <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;profile)</pre>
<div class="block">Fires a WikiSecurityEvent of the provided type, Principal and target Object
  to all registered listeners.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>type</code> - the event type to be fired</dd><dd><code>session</code> - the wiki session supporting the event</dd><dd><code>profile</code> - the user profile (or array of user profiles), which may be <code>null</code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/apache/wiki/event/WikiSecurityEvent.html" title="class in org.apache.wiki.event"><code>WikiSecurityEvent</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UserManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/wiki/auth/SessionMonitor.html" title="class in org.apache.wiki.auth"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/wiki/auth/UserManager.DummyUserDatabase.html" title="class in org.apache.wiki.auth"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/wiki/auth/UserManager.html" target="_top">Frames</a></li>
<li><a href="UserManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright © 2001-2016 The Apache Software Foundation. All rights reserved.</small></p>
</body>
</html>
